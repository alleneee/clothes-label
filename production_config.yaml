# 生产环境配置
server:
  host: "0.0.0.0"
  port: 8000
  workers: 4  # CPU核心数 * 2
  worker_class: "uvicorn.workers.UvicornWorker"
  max_requests: 1000
  max_requests_jitter: 50
  timeout: 300
  keepalive: 2
  preload_app: true

logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  access_log: true
  error_log: "/var/log/clothes-api/error.log"
  access_log_file: "/var/log/clothes-api/access.log"

security:
  cors_origins: ["http://localhost:3000", "https://yourdomain.com"]
  max_file_size: 10485760  # 10MB
  rate_limit: 100  # requests per minute

model:
  checkpoint_path: "model/best.ckpt"
  config_path: "config.yaml"
  device: "auto"  # auto, cuda, cpu
  batch_size: 1
  
monitoring:
  enable_metrics: true
  metrics_port: 9090
  health_check_interval: 30
